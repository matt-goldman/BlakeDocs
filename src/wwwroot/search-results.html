<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results - Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.2/darkly/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Top Bar Styles */
        .top-bar {
            background-color: rgba(33, 37, 41, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0.75rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .site-title {
            font-weight: 600;
            font-size: 1.25rem;
            color: var(--bs-light);
            text-decoration: none;
        }

            .site-title:hover {
                color: var(--bs-primary);
            }

        .top-search {
            position: relative;
            max-width: 300px;
        }

        .top-search-input {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            padding-right: 3rem;
            color: var(--bs-light);
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

            .top-search-input:focus {
                background-color: rgba(255, 255, 255, 0.15);
                border-color: var(--bs-primary);
                box-shadow: 0 0 0 0.2rem rgba(var(--bs-primary-rgb), 0.25);
                color: var(--bs-light);
            }

            .top-search-input::placeholder {
                color: rgba(255, 255, 255, 0.6);
            }

        .search-shortcut {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            padding: 0.125rem 0.375rem;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Search Results Styles */
        .search-header {
            background: linear-gradient(135deg, rgba(var(--bs-primary-rgb), 0.03), rgba(var(--bs-info-rgb), 0.02));
            border-radius: 8px;
            padding: 1.5rem 0;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

            .search-header::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 1px;
                background: linear-gradient(90deg, transparent, rgba(var(--bs-primary-rgb), 0.2), transparent);
            }

        .search-stats {
            color: var(--bs-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .search-filters {
            background-color: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
        }

        .filter-group {
            margin-bottom: 1rem;
        }

            .filter-group:last-child {
                margin-bottom: 0;
            }

        .filter-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--bs-light);
            margin-bottom: 0.5rem;
            display: block;
        }

        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .filter-option {
            padding: 0.25rem 0.75rem;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            font-size: 0.8rem;
            color: var(--bs-secondary);
            text-decoration: none;
            transition: all 0.3s ease;
        }

            .filter-option:hover,
            .filter-option.active {
                background-color: var(--bs-primary);
                border-color: var(--bs-primary);
                color: white;
                text-decoration: none;
            }

        .search-result {
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background-color: rgba(255, 255, 255, 0.02);
            transition: all 0.3s ease;
        }

            .search-result:hover {
                border-color: var(--bs-primary);
                background-color: rgba(255, 255, 255, 0.05);
            }

        .result-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

            .result-title a {
                color: var(--bs-light);
                text-decoration: none;
            }

                .result-title a:hover {
                    color: var(--bs-primary);
                }

        .result-url {
            font-size: 0.8rem;
            color: var(--bs-success);
            margin-bottom: 0.75rem;
        }

        .result-snippet {
            color: var(--bs-secondary);
            line-height: 1.5;
            margin-bottom: 0.75rem;
        }

        .result-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.8rem;
            color: var(--bs-secondary);
        }

        .result-category {
            background-color: rgba(var(--bs-info-rgb), 0.2);
            color: var(--bs-info);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
        }

        .pagination-wrapper {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .no-results {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--bs-secondary);
        }

            .no-results i {
                font-size: 3rem;
                margin-bottom: 1rem;
                opacity: 0.5;
            }

        @media (max-width: 768px) {
            .search-filters {
                padding: 0.75rem;
            }

            .filter-options {
                gap: 0.25rem;
            }

            .result-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container-fluid">
            <div class="d-flex align-items-center justify-content-between">
                <a href="docshome.html" class="site-title">
                    <i class="fas fa-book-open me-2"></i>
                    Documentation
                </a>

                <div class="d-flex align-items-center gap-3">
                    <div class="top-search">
                        <input type="text" class="form-control top-search-input" placeholder="Search docs..." id="topSearchInput">
                        <span class="search-shortcut">⌘K</span>
                    </div>

                    <div class="dropdown">
                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="fas fa-cog"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#"><i class="fas fa-palette me-2"></i>Theme</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-code-branch me-2"></i>Version: v2.1</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="fab fa-github me-2"></i>GitHub</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- Main Content -->
            <main class="col-12">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8 mx-auto">
                            <!-- Breadcrumb -->
                            <nav aria-label="breadcrumb" class="mb-4">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="docshome.html" class="text-decoration-none">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Search Results</li>
                                </ol>
                            </nav>

                            <!-- Search Header -->
                            <div class="search-header">
                                <h1 class="display-6 fw-bold mb-3">Search Results</h1>
                                <div class="search-stats" id="searchStats">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Search Filters -->
                            <div class="search-filters">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="filter-group">
                                            <span class="filter-label">Category</span>
                                            <div class="filter-options">
                                                <a href="#" class="filter-option active" data-filter="all">All</a>
                                                <a href="#" class="filter-option" data-filter="getting-started">Getting Started</a>
                                                <a href="#" class="filter-option" data-filter="components">Components</a>
                                                <a href="#" class="filter-option" data-filter="layout">Layout</a>
                                                <a href="#" class="filter-option" data-filter="advanced">Advanced</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="filter-group">
                                            <span class="filter-label">Type</span>
                                            <div class="filter-options">
                                                <a href="#" class="filter-option active" data-filter="all">All</a>
                                                <a href="#" class="filter-option" data-filter="guide">Guides</a>
                                                <a href="#" class="filter-option" data-filter="reference">Reference</a>
                                                <a href="#" class="filter-option" data-filter="tutorial">Tutorials</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="filter-group">
                                            <span class="filter-label">Sort by</span>
                                            <div class="filter-options">
                                                <a href="#" class="filter-option active" data-sort="relevance">Relevance</a>
                                                <a href="#" class="filter-option" data-sort="date">Date</a>
                                                <a href="#" class="filter-option" data-sort="title">Title</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Search Results -->
                            <div id="searchResults">
                                <!-- Results will be populated by JavaScript -->
                            </div>

                            <!-- Pagination -->
                            <div class="pagination-wrapper">
                                <nav aria-label="Search results pagination">
                                    <ul class="pagination justify-content-center" id="pagination">
                                        <!-- Pagination will be populated by JavaScript -->
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
        // Extended search data for results page
        const fullSearchData = [
            {
                title: "Getting Started Guide",
                snippet: "Everything you need to begin your journey. Installation guides, quick start tutorials, and basic concepts to get you up and running quickly.",
                category: "Getting Started",
                type: "guide",
                url: "index.html",
                date: "2024-01-15"
            },
            {
                title: "Button Components",
                snippet: "Learn how to use buttons effectively with different styles, sizes, and states. Includes accessibility guidelines and interactive examples for all button types.",
                category: "Components",
                type: "reference",
                url: "#",
                date: "2024-01-10"
            },
            {
                title: "Form Controls",
                snippet: "Complete guide to form inputs, validation, and user experience best practices. Build accessible and user-friendly forms with proper validation.",
                category: "Components",
                type: "guide",
                url: "#",
                date: "2024-01-08"
            },
            {
                title: "Grid System Tutorial",
                snippet: "Master the responsive grid system with this comprehensive tutorial. Learn how to create flexible layouts that work on all devices.",
                category: "Layout",
                type: "tutorial",
                url: "#",
                date: "2024-01-05"
            },
            {
                title: "Navigation Bars",
                snippet: "Build responsive navigation bars with dropdowns, search functionality, and mobile-friendly collapsible menus. Includes accessibility best practices.",
                category: "Components",
                type: "guide",
                url: "#",
                date: "2024-01-12"
            },
            {
                title: "Advanced Customization",
                snippet: "Deep dive into advanced customization techniques. Learn how to extend and modify components to fit your specific design requirements.",
                category: "Advanced",
                type: "guide",
                url: "#",
                date: "2024-01-03"
            },
            {
                title: "API Reference",
                snippet: "Complete API reference documentation with all available methods, properties, and configuration options. Includes code examples and usage patterns.",
                category: "Advanced",
                type: "reference",
                url: "#",
                date: "2024-01-01"
            },
            {
                title: "Quick Start Tutorial",
                snippet: "Get up and running in just 5 minutes with this quick start tutorial. Perfect for developers who want to jump right in.",
                category: "Getting Started",
                type: "tutorial",
                url: "#",
                date: "2024-01-14"
            }
        ];

        let currentQuery = '';
        let currentFilters = { category: 'all', type: 'all' };
        let currentSort = 'relevance';
        let currentPage = 1;
        const resultsPerPage = 5;

        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                q: params.get('q') || '',
                category: params.get('category') || 'all',
                type: params.get('type') || 'all',
                sort: params.get('sort') || 'relevance',
                page: parseInt(params.get('page')) || 1
            };
        }

        function updateUrl() {
            const params = new URLSearchParams();
            if (currentQuery) params.set('q', currentQuery);
            if (currentFilters.category !== 'all') params.set('category', currentFilters.category);
            if (currentFilters.type !== 'all') params.set('type', currentFilters.type);
            if (currentSort !== 'relevance') params.set('sort', currentSort);
            if (currentPage !== 1) params.set('page', currentPage);

            const newUrl = window.location.pathname + (params.toString() ? '?' + params.toString() : '');
            window.history.replaceState({}, '', newUrl);
        }

        function performSearch(query, filters, sort) {
            let results = fullSearchData;

            // Filter by search query
            if (query && query.length >= 1) {
                results = results.filter(item =>
                    item.title.toLowerCase().includes(query.toLowerCase()) ||
                    item.snippet.toLowerCase().includes(query.toLowerCase()) ||
                    item.category.toLowerCase().includes(query.toLowerCase())
                );
            }

            // Filter by category
            if (filters.category !== 'all') {
                results = results.filter(item =>
                    item.category.toLowerCase().replace(' ', '-') === filters.category
                );
            }

            // Filter by type
            if (filters.type !== 'all') {
                results = results.filter(item => item.type === filters.type);
            }

            // Sort results
            switch (sort) {
                case 'date':
                    results.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'title':
                    results.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                case 'relevance':
                default:
                    // Keep original order for relevance
                    break;
            }

            return results;
        }

        function highlightSearchTerm(text, term) {
            if (!term) return text;
            const regex = new RegExp(`(${term})`, 'gi');
            return text.replace(regex, '<mark class="bg-primary bg-opacity-25 text-light">$1</mark>');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        function renderResults(results, query, page) {
            const container = document.getElementById('searchResults');
            const startIndex = (page - 1) * resultsPerPage;
            const endIndex = startIndex + resultsPerPage;
            const pageResults = results.slice(startIndex, endIndex);

            if (results.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search-minus d-block"></i>
                        <h4>No results found</h4>
                        <p>Try adjusting your search terms or filters</p>
                        <div class="mt-3">
                            <a href="docshome.html" class="btn btn-outline-primary">Browse Documentation</a>
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = pageResults.map(result => `
                <div class="search-result">
                    <div class="result-title">
                        <a href="${result.url}">${highlightSearchTerm(result.title, query)}</a>
                    </div>
                    <div class="result-url">${window.location.origin}${result.url}</div>
                    <div class="result-snippet">${highlightSearchTerm(result.snippet, query)}</div>
                    <div class="result-meta">
                        <span class="result-category">${result.category}</span>
                        <span><i class="fas fa-calendar me-1"></i>${formatDate(result.date)}</span>
                        <span><i class="fas fa-tag me-1"></i>${result.type}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderPagination(totalResults, currentPage, resultsPerPage) {
            const totalPages = Math.ceil(totalResults / resultsPerPage);
            const container = document.getElementById('pagination');

            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }

            let paginationHTML = '';

            // Previous button
            if (currentPage > 1) {
                paginationHTML += `
                    <li class="page-item">
                        <a class="page-link" href="#" data-page="${currentPage - 1}">Previous</a>
                    </li>
                `;
            }

            // Page numbers
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);

            if (startPage > 1) {
                paginationHTML += `<li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>`;
                if (startPage > 2) {
                    paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
                }
            }

            for (let i = startPage; i <= endPage; i++) {
                paginationHTML += `
                    <li class="page-item ${i === currentPage ? 'active' : ''}">
                        <a class="page-link" href="#" data-page="${i}">${i}</a>
                    </li>
                `;
            }

            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
                }
                paginationHTML += `<li class="page-item"><a class="page-link" href="#" data-page="${totalPages}">${totalPages}</a></li>`;
            }

            // Next button
            if (currentPage < totalPages) {
                paginationHTML += `
                    <li class="page-item">
                        <a class="page-link" href="#" data-page="${currentPage + 1}">Next</a>
                    </li>
                `;
            }

            container.innerHTML = paginationHTML;
        }

        function updateSearchStats(results, query) {
            const container = document.getElementById('searchStats');
            const totalResults = results.length;

            if (query) {
                container.innerHTML = `Found ${totalResults} result${totalResults !== 1 ? 's' : ''} for "<strong>${query}</strong>"`;
            } else {
                container.innerHTML = `Showing all ${totalResults} result${totalResults !== 1 ? 's' : ''}`;
            }
        }

        function updateActiveFilters() {
            // Update category filters
            document.querySelectorAll('[data-filter]').forEach(el => {
                const filterType = el.closest('.filter-group').querySelector('.filter-label').textContent.toLowerCase();
                const filterValue = el.dataset.filter;

                if (filterType === 'category') {
                    el.classList.toggle('active', currentFilters.category === filterValue);
                } else if (filterType === 'type') {
                    el.classList.toggle('active', currentFilters.type === filterValue);
                }
            });

            // Update sort filters
            document.querySelectorAll('[data-sort]').forEach(el => {
                el.classList.toggle('active', currentSort === el.dataset.sort);
            });
        }

        function performSearchAndRender() {
            const results = performSearch(currentQuery, currentFilters, currentSort);
            updateSearchStats(results, currentQuery);
            renderResults(results, currentQuery, currentPage);
            renderPagination(results.length, currentPage, resultsPerPage);
            updateUrl();
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            const params = getUrlParams();
            currentQuery = params.q;
            currentFilters = { category: params.category, type: params.type };
            currentSort = params.sort;
            currentPage = params.page;

            // Set search input value
            document.getElementById('topSearchInput').value = currentQuery;

            // Update active filters
            updateActiveFilters();

            // Perform initial search
            performSearchAndRender();
        });

        // Filter event listeners
        document.addEventListener('click', function(e) {
            if (e.target.matches('[data-filter]')) {
                e.preventDefault();
                const filterGroup = e.target.closest('.filter-group');
                const filterType = filterGroup.querySelector('.filter-label').textContent.toLowerCase();
                const filterValue = e.target.dataset.filter;

                if (filterType === 'category') {
                    currentFilters.category = filterValue;
                } else if (filterType === 'type') {
                    currentFilters.type = filterValue;
                }

                currentPage = 1; // Reset to first page
                updateActiveFilters();
                performSearchAndRender();
            }

            if (e.target.matches('[data-sort]')) {
                e.preventDefault();
                currentSort = e.target.dataset.sort;
                currentPage = 1; // Reset to first page
                updateActiveFilters();
                performSearchAndRender();
            }

            if (e.target.matches('[data-page]')) {
                e.preventDefault();
                currentPage = parseInt(e.target.dataset.page);
                performSearchAndRender();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });

        // Search input functionality
        document.getElementById('topSearchInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                currentQuery = this.value.trim();
                currentPage = 1; // Reset to first page
                performSearchAndRender();
            }
        });

        // Keyboard shortcut for search (Ctrl/Cmd + K)
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                document.getElementById('topSearchInput').focus();
            }
        });
    </script>
</body>
</html>